<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G·ª≠i Ho·∫° My - Valentine 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #4a3b3b;
            --accent-color: #c24d5d;
            --name-color: #d63384; 
            --line-color: #e0d1d1; /* M√†u ƒë∆∞·ªùng k·∫ª gi·∫•y */
        }

        body, html {
            min-height: 100vh; 
            margin: 0;
            font-family: 'Lora', serif;
            background: #fdfaf7;
            color: var(--primary-color);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* --- M√ÄN H√åNH CH·ªú (SPLASH SCREEN) --- */
        #splash-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(#e95050, #FAA6FF);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1.5s ease;
        }

        .photo-layout {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
            align-items: flex-end;
        }

        .photo-slot {
            width: 100px;
            height: 130px;
            background: #eee;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
            border: 3px solid #fff;
            transform: rotate(-2deg);
        }

        .photo-slot img { width: 100%; height: 100%; object-fit: cover; }

        .open-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            background-color: var(--accent-color);
            color: #fff;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(194, 77, 93, 0.3);
            font-family: 'Lora', serif;
            animation: heartBeat 2s infinite ease-in-out;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* --- L√Å TH∆Ø T√ÇY C√ì K·∫∫ D√íNG --- */
        .letter-container {
            display: none;
            position: relative;
            z-index: 3;
            max-width: 550px;
            width: 90%;
            padding: 40px 25px;
            background-color: #fff;
            box-shadow: 0 15px 45px rgba(0,0,0,0.08);
            border-radius: 8px;
            /* T·∫°o ƒë∆∞·ªùng k·∫ª gi·∫•y */
            background-image: linear-gradient(var(--line-color) 1px, transparent 1px);
            background-size: 100% 32px;
            line-height: 32px; 
            font-size: 1.1rem;
            min-height: 500px;
        }

        /* S·ª¨A L·ªñI CON TR·ªé: ƒê·ªÉ inline-block ƒë·ªÉ con tr·ªè ch·∫°y theo ch·ªØ */
        #typing-area { 
            white-space: pre-wrap; 
            display: inline; 
            vertical-align: top;
        }
        
        .typed-cursor { 
            color: var(--accent-color); 
            font-size: 1.3rem;
            vertical-align: top;
        }
        
        .special-name {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5em;
            color: var(--name-color);
            display: inline-block;
            line-height: 1;
        }

        .signature {
            margin-top: 64px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: var(--accent-color);
            opacity: 0;
            transition: opacity 3s ease;
            text-align: right;
            line-height: 1.5;
        }

        .signature.visible { opacity: 1; }

        /* Hi·ªáu ·ª©ng ph·ª• */
        #fireworks-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2; }
        .heart-balloon { position: fixed; bottom: -100px; opacity: 0.8; z-index: 1; animation: floatUpBalloon linear forwards; }

        @keyframes floatUpBalloon {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            100% { transform: translateY(-120vh) rotate(20deg); opacity: 0; }
        }

        @media (max-width: 480px) {
            .photo-layout { gap: 10px; }
            .photo-slot { width: 85px; height: 110px; }
            .letter-container { padding: 35px 20px; font-size: 1rem; line-height: 32px; }
        }
    </style>
</head>
<body>

    <canvas id="fireworks-canvas"></canvas>

    <div id="splash-screen">
        <div class="photo-layout">
            <div class="photo-slot">
                <img src="/rose.jpg" alt="Hoa">
            </div>
            <div class="photo-slot" style="transform: rotate(3deg) scale(1.15); z-index: 2; border-color: var(--accent-color);">
                <img src="/my.jpg" alt="Ho·∫° My">
            </div>
            <div class="photo-slot" style="transform: rotate(-5deg);">
                <img src="/chocolate.webp" alt="Socola">
            </div>
        </div>
        <button class="open-btn" onclick="startExperience()">M·ªü th∆∞ t·ª´ Anh ‚ô•</button>
    </div>

    <audio id="bg-music" loop>
        <source src="ai ngoai anh.mp3" type="audio/mpeg">
    </audio>

    <div class="letter-container" id="main-letter">
        <span id="typing-area"></span>
        <div class="signature" id="signature-block">
            ƒê∆∞·ª£c g·ª≠i t·ª´ ng∆∞·ªùi lu√¥n mong ƒë∆∞·ª£c xu·∫•t hi·ªán trong tim v√† t√¢m tr√≠ em ü•∞.
        </div>
    </div>

    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    
    <script>
        // Logic Ph√°o hoa
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Particle {
            constructor(x, y, color) {
                this.x = x; this.y = y; this.color = color;
                this.size = Math.random() * 2 + 1;
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 3 + 1;
                this.velocityX = Math.cos(angle) * speed;
                this.velocityY = Math.sin(angle) * speed;
                this.life = 1; this.decay = Math.random() * 0.015 + 0.01;
            }
            draw() {
                ctx.fillStyle = this.color; ctx.globalAlpha = this.life;
                ctx.beginPath();
                const s = this.size;
                ctx.moveTo(this.x, this.y);
                ctx.bezierCurveTo(this.x - s, this.y - s, this.x - s*2, this.y + s/2, this.x, this.y + s*2);
                ctx.bezierCurveTo(this.x + s*2, this.y + s/2, this.x + s, this.y - s, this.x, this.y);
                ctx.fill();
            }
            update() { this.x += this.velocityX; this.y += this.velocityY; this.velocityY += 0.04; this.life -= this.decay; }
        }

        function createFirework(x, y) {
            const colors = ['#ff4d6d', '#ff758f', '#ffffff'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            for (let i = 0; i < 15; i++) particles.push(new Particle(x, y, color));
        }

        function animateFireworks() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles = particles.filter(p => p.life > 0);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateFireworks);
        }
        animateFireworks();

        function startExperience() {
            document.getElementById('splash-screen').style.opacity = '0';
            const music = document.getElementById('bg-music');
            music.play().catch(e => console.log("Thi·∫øu file nh·∫°c!"));
            
            setTimeout(() => {
                document.getElementById('splash-screen').style.display = 'none';
                document.getElementById('main-letter').style.display = 'block';
                setInterval(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart-balloon';
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.fontSize = (Math.random() * 15 + 20) + 'px';
                    heart.style.animationDuration = (Math.random() * 5 + 6) + 's';
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 10000);
                }, 800);
                startTyping();
            }, 1000);
        }

        function startTyping() {
            const sequence = [
                "H√¥m nay l√† Valentine, th√∫ th·∫≠t l√† anh ƒë√£ suy nghƒ© r·∫•t nhi·ªÅu v·ªÅ m·ªôt m√≥n qu√† cho em. Nh∆∞ng v√¨ anh mu·ªën t√¥n tr·ªçng kh√¥ng gian ri√™ng c≈©ng nh∆∞ gia ƒë√¨nh c·ªßa em...^600",
                "N√™n anh c≈©ng kh√¥ng c√≥ mua hi·ªán v·∫≠t t·∫∑ng em nh√¢n d·ªãp l·ªÖ t√¨nh nh√¢n 14-2,^600",
                "anh s·ª£ ph·∫£n t√°c d·ª•ng, n·∫øu l√†m em kh√≥ x·ª≠ khi ph·∫£i gi·∫£i th√≠ch v·ªõi b·ªë m·∫π ü•≤, n√™n anh d√πng √≠t kƒ© nƒÉng IT c√≤n x√≥t l·∫°i t·∫∑ng em m·ªôt ch√∫t tinh th·∫ßn c·ªßa ng√†y h√¥m nay, mong em nh·∫≠n l·∫•y n√≥ v·ªõi t√¢m th·∫ø vui v·∫ª My nh√© hehe,^800",
                "ƒë·ªçc t·ªõi ƒë√¢y ch·∫Øc th·∫•y h∆°i b·∫•t ng·ªù r·ªìi ha. R·ªìi, ƒëo√†n m√¨nh di chuy·ªÉn v√¥ ph·∫ßn th∆∞ ch√≠nh ƒë·ªÉ th∆∞·ªüng th·ª©c ·∫° üòô.^1500",
                "G·ª≠i em <span class='special-name'>Nguy·ªÖn Ki·ªÅu Ho·∫° My</span>\n( b·ªë m·∫π c≈©ng kh√©o ƒë·∫∑t t√™n qu√° c∆° üòö )^1500",
                "L√†m ch√∫t th∆° m·ªü b√†i nh√© hhh^1000",
                "M·ªõi quen g·∫ßn ƒë∆∞·ª£c th√°ng tr√≤n,\nCh√∫t th∆∞∆°ng, ch√∫t nh·ªõ v·∫´n c√≤n t∆° v∆∞∆°ng.\nG·∫∑p em ch·∫≥ng kh√°c trong m∆°,\nƒê·ªÉ anh ch·∫Øp b√∫t ƒë·ªÅ th∆° t·∫∑ng ng∆∞·ªùi.\n\nTh∆∞∆°ng sao √°nh m·∫Øt, n·ª• c∆∞·ªùi,\nTh∆∞∆°ng sao c√°i n√©t r·∫°ng ng·ªùi h·ªìn nhi√™n.\nValentine, bu·ªïi ƒë·∫ßu ti√™n,\nMong c√πng em vi·∫øt n√™n duy√™n sau n√†y.^3000",
                "Em bi·∫øt kh√¥ng, s·ª± t·ª≠ t·∫ø l√† con ƒë∆∞·ªùng anh ƒë√£ ch·ªçn t·ª´ tr∆∞·ªõc khi g·∫∑p em, ƒë·ªÉ t·ª± k√©o m√¨nh ra kh·ªèi nh·ªØng kho·∫£ng t·ªëi v√† √°p l·ª±c cu·ªôc s·ªëng.^1000",
                "Nh∆∞ng khi g·∫∑p em, anh th·∫•y l·ª±a ch·ªçn ƒë√≥ √Ω nghƒ©a h∆°n bao gi·ªù h·∫øt. Anh nh·∫≠n ra m√¨nh kh√¥ng ch·ªâ mu·ªën s·ªëng t·ª≠ t·∫ø cho b·∫£n th√¢n, m√† c√≤n mu·ªën d√†nh s·ª± t·ª≠ t·∫ø ƒë√≥ ƒë·ªÉ ƒë·ªìng h√†nh c√πng em.^1500",
                "Anh bi·∫øt ch√∫ng m√¨nh ƒë·ªÅu l√† nh·ªØng ng∆∞·ªùi hay overthinking. Nh∆∞ng thay v√¨ ƒë·ªÉ n√≥ l√†m em lo l·∫Øng, h√£y ƒë·ªÉ anh d√πng kinh nghi·ªám c·ªßa m√¨nh \"c√¢n\" h·∫øt nh·ªØng k·ªãch b·∫£n ti√™u c·ª±c ƒë√≥ cho em.^1200",
                "Em c·ª© tho·∫£i m√°i l√†m m·ªôt \"c√¢y c·ªï th·ª•\" ki√™n c∆∞·ªùng, nh∆∞ng khi m·ªèi m·ªát, h√£y nh·ªõ lu√¥n c√≥ m·ªôt ng∆∞·ªùi s·∫µn s√†ng l√†m ƒëi·ªÉm t·ª±a ch·∫Øc ch·∫Øn nh·∫•t cho em."
            ];

            new Typed('#typing-area', {
                strings: sequence,
                typeSpeed: 60,
                backSpeed: 5,
                smartBackspace: false,
                backDelay: 2000,
                contentType: 'html',
                showCursor: true,
                cursorChar: '|',
                onStringTyped: () => {
                    createFirework(Math.random() * canvas.width, Math.random() * canvas.height * 0.5);
                },
                onComplete: () => {
                    document.getElementById('signature-block').classList.add('visible');
                    for(let i=0; i<15; i++) setTimeout(() => createFirework(Math.random() * canvas.width, Math.random() * canvas.height), i * 300);
                }
            });
        }
    </script>
</body>
</html>